<!DOCTYPE html>
<html lang="en" class="wf-loading">
  <head>
    <meta charset='UTF-8'>
    <title>What is Command Query Responsibility Segregation (CQRS)? | Culttt</title>
    <!--[if lte IE 8]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="http://culttt.com/wp-content/themes/culttt-v3/style.css" />
    <style>
  .ad-packs{
    padding: 0 0 5px 0;
    background-color: #e3e3e3;
    border-top: 5px solid #94b84b;
    border-bottom: 5px solid #789F49;
  }
  h3.supported{
    margin: 0 0 10px 0 auto;
    font-weight: normal;
    font-size: 10px;
    color: #ededed;
    letter-spacing: 1px;
    text-transform: uppercase;
  }
.bsap,
.one .bsa_it_ad {
  font-size: 10px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif !important;
  line-height: 1.5;
}
.bsa_it_i {
    text-align: center;
}
.bsa_it_d {
    text-align: left;
    margin: 10px 0 0;
}

.bsa_it_p {
    padding: 6px 0 0;
}
    </style>
    <link rel="shortcut icon" href="http://culttt.com/wp-content/themes/culttt-v3/images/favicon.ico" type="image/ico" />
    <link rel="apple-touch-icon" href="http://culttt.com/wp-content/themes/culttt-v3/images/apple-touch-icon.png"/>
    <script type="text/javascript">
      (function() {
        var config = {
          kitId: 'zsc1foq',
          scriptTimeout: 3000
        };
        var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
      })();
    </script>
    <meta name="viewport" content="width=device-width">
    
<!-- This site is optimized with the Yoast SEO plugin v3.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="One of the beautiful things about Domain Driven Design is the fact that there isn’t one recommend style of architecture that must be used in every project."/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="http://culttt.com/2015/01/14/command-query-responsibility-segregation-cqrs/" />
<link rel="publisher" href="https://plus.google.com/b/105545788844824874492/105545788844824874492"/>
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="What is Command Query Responsibility Segregation (CQRS)? | Culttt" />
<meta property="og:description" content="One of the beautiful things about Domain Driven Design is the fact that there isn’t one recommend style of architecture that must be used in every project." />
<meta property="og:url" content="http://culttt.com/2015/01/14/command-query-responsibility-segregation-cqrs/" />
<meta property="og:site_name" content="Culttt" />
<meta property="article:publisher" content="http://facebook.com/culttt" />
<meta property="article:author" content="https://www.facebook.com/phillyyyy" />
<meta property="article:section" content="Code" />
<meta property="article:published_time" content="2015-01-14T07:00:46+00:00" />
<meta property="article:modified_time" content="2015-01-13T20:18:22+00:00" />
<meta property="og:updated_time" content="2015-01-13T20:18:22+00:00" />
<meta property="fb:admins" content="893905018" />
<meta property="og:image" content="http://culttt.com/wp-content/uploads/2015/01/What-is-Command-Query-Responsibility-Segregation.jpg" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="One of the beautiful things about Domain Driven Design is the fact that there isn’t one recommend style of architecture that must be used in every project." />
<meta name="twitter:title" content="What is Command Query Responsibility Segregation (CQRS)? | Culttt" />
<meta name="twitter:site" content="@culttt" />
<meta name="twitter:image" content="http://culttt.com/wp-content/uploads/2015/01/What-is-Command-Query-Responsibility-Segregation.jpg" />
<meta name="twitter:creator" content="@philipbrown" />
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s.gravatar.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Culttt &raquo; What is Command Query Responsibility Segregation (CQRS)? Comments Feed" href="http://culttt.com/2015/01/14/command-query-responsibility-segregation-cqrs/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/culttt.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='jetpack_css-css'  href='http://culttt.com/wp-content/plugins/jetpack/css/jetpack.css?ver=4.3.2' type='text/css' media='all' />
<!-- This site uses the Google Analytics by MonsterInsights plugin v5.5.4 - Universal disabled - https://www.monsterinsights.com/ -->
<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-6105422-9']);
	_gaq.push(['_gat._forceSSL']);
	_gaq.push(['_trackPageview']);

	(function () {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();

</script>
<!-- / Google Analytics by MonsterInsights -->
<script type='text/javascript' src='http://culttt.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://culttt.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='http://culttt.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://culttt.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://culttt.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6.1" />
<link rel='shortlink' href='http://wp.me/p2tyoR-1mt' />
<link rel="alternate" type="application/json+oembed" href="http://culttt.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fculttt.com%2F2015%2F01%2F14%2Fcommand-query-responsibility-segregation-cqrs%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://culttt.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fculttt.com%2F2015%2F01%2F14%2Fcommand-query-responsibility-segregation-cqrs%2F&#038;format=xml" />

<link rel='dns-prefetch' href='//v0.wordpress.com'>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<style type='text/css'>img#wpstats{display:none}</style><style type="text/css" id="syntaxhighlighteranchor"></style>
  </head>
  <body class="">

    <header class="header">
      <div class="grid">
        <div class="col-12">
          <span class="brand"><a href="/">Culttt</a></span>
          <a class="icons twitter" href="https://twitter.com/culttt"><i class="icon-twitter"></i></a>
          <a class="icons facebook" href="https://www.facebook.com/culttt"><i class="icon-facebook-squared"></i></a>
          <a class="icons googleplus" href="https://plus.google.com/105545788844824874492"><i class="icon-gplus"></i></a>
          <a class="icons rss" href="http://culttt.com/feed/"><i class="icon-rss"></i></a>
        </div>
        <div class="col-12">
          <form class="search" action="/search">
              <input type="text" name="q" placeholder="Search...">
              <span><button class="icon-search"></button></span>
          </form>
        </div>
      </div><!--/grid-->
    </header><!--/header-->

    <div class="wrapper">
      <div class="grid">

    <div class="wrapper">
      <div class="grid">

        <nav class="navigation col-3">
  <a href="/business"><i class="icon-chart-line"></i> <span class="item">Business</span></a>
  <a href="/code"><i class="icon-code"></i> <span class="item">Code</span></a>
  <a href="/design"><i class="icon-brush"></i> <span class="item">Design</span></a>
  <a href="/mobile"><i class="icon-mobile"></i> <span class="item">Mobile</span></a>
  <a href="/random"><i class="icon-address"></i> <span class="item">Random</span></a>
  <a href="/reviews"><i class="icon-book-open"></i> <span class="item">Reviews</span></a>
  <a href="/social"><i class="icon-chat"></i> <span class="item">Social</span></a>
  <a href="/strategy"><i class="icon-chart-area"></i> <span class="item">Strategy</span></a>
</nav>
        <div class="col-21 wrapper-big">

          <div class="col-19 wrapper-small">

            <div class="content col-16 single">

              <span class="breadcrumbs"><span xmlns:v="http://rdf.data-vocabulary.org/#"><span typeof="v:Breadcrumb"><a href="http://culttt.com/" rel="v:url" property="v:title">Home</a> <span class="seperator">»</span> <span rel="v:child" typeof="v:Breadcrumb"><a href="http://culttt.com/code/" rel="v:url" property="v:title">Code</a> <span class="seperator">»</span> <strong class="breadcrumb_last">What is Command Query Responsibility Segregation (CQRS)?</strong></span></span></span></span>
              
                
                  <h1>What is Command Query Responsibility Segregation (CQRS)?</h1>

                  <div class="meta">
                    <span>Posted by <a href="http://culttt.com/author/philipbrown/" title="Posts by Philip Brown" rel="author">Philip Brown</a> on January 14th, 2015</span>
                  </div>

                  <div class="post">
                    <p><img src="http://i0.wp.com/culttt.com/wp-content/uploads/2015/01/What-is-Command-Query-Responsibility-Segregation.jpg" alt="What is Command Query Responsibility Segregation" data-recalc-dims="1" /><br />
One of the beautiful things about Domain Driven Design is the fact that there isn’t one recommend style of architecture that must be used in every project. All applications are different and so trying to impose an incorrect architectural style would be a disaster.</p>
<p>In <a href="http://culttt.com/2014/10/29/domain-driven-design-tackling-complexity-heart-software-review">Domain-driven Design: Tackling Complexity in the Heart of Software</a> it is recommended that you split your application into layers of responsibility. Broadly speaking, this would mean you would have a Domain Layer, an Application Layer and an Infrastructure Layer.</p>
<p>A couple of weeks ago we looked at <a href="http://culttt.com/2014/12/31/hexagonal-architecture">Hexagonal Architecture</a> and the idea of using Ports and Adapters to create an agnostic layer between our Domain Model and the outside world.</p>
<p>Last week we looked at <a href="http://culttt.com/2015/01/07/service-oriented-architecture">Service Oriented Architecture</a>, which provides distinct units of functionality as agonistic network services provided via an interface.</p>
<p>This week I want to look at Command Query Responsibility Segregation (CQRS), how this particular architectural pattern works, the benefits and drawbacks and when you should choose it for your projects.</p>
<h2>Two problems in application development</h2>
<p>Architectural patterns such as Command Query Responsibility Segregation are usually perfect for a limited number of problems, and wildly inappropriate for others. This distinction is even more polarised for Command Query Responsibility Segregation because of the complexity in its implementation.</p>
<p>I think there are two main problems Command Query Responsibility Segregation aims to solve.</p>
<h3>Cutting across Aggregates</h3>
<p>In most web applications, you have objects that hold responsibility and Domain logic around important concepts of the business.</p>
<p>For example in an Ecommerce application, you might have an <code>Order</code> Entity and a <code>OrderRepository</code>. The <code>OrderRepository</code> would be responsible for finding <code>Order</code> objects from the database as well as adding or updating new or existing <code>Order</code> objects.</p>
<p>In this example you could imagine that <code>Order</code> would be an Aggregate (<a href="http://culttt.com/2014/12/17/aggregates-domain-driven-design">What are Aggregates in Domain Driven Design?</a>), and we would probably have Repositories for the other main Aggregates of the application.</p>
<p>Theoretically this is a fairly elegant situation and so we would have simple and maintainable code to work with.</p>
<p>However, in the real world, life is not always this simple.</p>
<p>In certain types of Applications you will be required to display data from multiple different Aggregates as part of a single User Interface. This presents a problem because it means we need to cut across Repositories to pull the data we need.</p>
<p>This means we either need to blur the lines of the Repositories, or force the User Interface to conform to the restrictions of our architecture. Domain Driven Design is all about solving the problems of the business, and so limiting the possibilities of the User Interface is out of the question.</p>
<p>There are a couple of ways to solve this problem, but none of them are ideal.</p>
<p>Firstly you could use multiple Repositories to collect the data and then assemble it together. This would be undesirable because it would force you to pull data from the database that isn’t required and you would have to then massage the data into the correct format for the User Interface.</p>
<p>Alternatively you could define a finder method on one of the Repositories that holds the responsibility for querying for all of the data. Again this would be undesirable because the lines of responsibility of the Repository would be blurred.</p>
<h3>Imbalanced application responsibilities</h3>
<p>Another appropriate situation for using Command Query Responsibility Segregation is when the application you are building has an imbalance in responsibility.</p>
<p>For example, imagine your application is has a very high number of reads, but a very small number of writes, or perhaps your application is required to do very intensive processing on the data that it accepts.</p>
<p>Command Query Responsibility Segregation allows you to split the two sides of the application into separate models so you can optimise them in isolation.</p>
<p>This prevents you from negatively effecting one side of the application to meet the requirements of the other side.</p>
<h2>What is Command Query Responsibility Segregation?</h2>
<p>Command Query Responsibility Segregation (CQRS) is an architectural pattern that separates reading and writing into two different models.</p>
<p>This means that every method should either be a Command that performs an action or a Query that returns data. A Command cannot return data and a Query cannot change the data.</p>
<p>So thinking back to the Ecommerce example from earlier, we would need to create two separate models for reading and writing. We would have an <code>Order</code> Aggregate that would have only Command methods and a <code>OrderRepository</code> that could only add and update <code>Order</code> objects. This would be the write model.</p>
<p>In order to read data from the database we would need a separate read model. For example, this might be a dedicated Repository that is specifically tuned to return the correct data for an appropriate view.</p>
<p>By splitting the application into dedicated read and write models, you move the responsibility into dedicated objects. The write model does not need to be concerned with returning data and the read model can be specifically written to return the correct data to satisfy the application’s requirements.</p>
<h2>Using two separate data stores</h2>
<p>The main principle behind CQRS is that you use two different models for reading and writing. However, the actual implementation of this idea can be handled in a number of different ways.</p>
<p>Firstly you might use two different models that talk to the same database. When a user issues a Command, the write model will update the database and then the read model will query the database to present the data to the User Interface. This is good solution for applications that require synchronous processing and immediate results.</p>
<p>However for other types of applications, it might be desirable to use two different data stores.</p>
<p>Rather than writing and reading from the same database, the write model will send commands to one database, and then the data will asynchronously update the read database.</p>
<p>This approach has a number of benefits.</p>
<p>Firstly, this allows you to store the data in the read database as denormalised data. This has the advantage of allowing you to write more efficient queries, but also store data that makes more sense as to how it should be displayed in your application.</p>
<p>Secondly, it allows you to scale the two different sides of your application separately. If you have a very high number of reads, and a low number of writes, you can scale the query side of the application without worrying too much about the write side. This would be advantageous if your application is required to do intensive reporting queries.</p>
<h2>How is Command Query Responsibility Segregation implemented?</h2>
<p>When implementing Command Query Responsibility Segregation you will typically see many of the same patterns. The following are four of the common aspects of the implementation of Command Query Responsibility Segregation.</p>
<h3>Task-Based User Interface</h3>
<p>One of the big benefits of using Command Query Responsibility Segregation is that it is more focused on the intent of the user.</p>
<p>In typical CRUD type applications, the user interface is often just a thin layer over the database that allows the user to create, read, update and delete.</p>
<p>By forcing the interface to conform to these four basic methods, you are losing the intent of the user. An application shouldn’t be just a thin layer over a database, it should help the user achieve a goal.</p>
<p>Because Command Query Responsibility Segregation is not focused around CRUD it can allow you to write a task based UI that cuts across the application to offer a rich, intention based interface to the user.</p>
<p>This means instead of an awkward user interface that attempts to conform to the architecture of the application, a CQRS user interface will be finely tuned to solve the needs of the user.</p>
<h3>Command Processing</h3>
<p>In Command Query Responsibility Segregation applications, the write model and the read model are separate and so processing requests requires a slightly different mental model.</p>
<p>For example, a common pattern in web applications when creating a new resource is to redirect to display that resource on success.</p>
<p>However, because the read and write models of a Command Query Responsibility Segregation application are separate, when you create a new resource, you aren’t returned the id of the newly created resource.</p>
<p>Command Query Responsibility Segregation applications typically use a Command Bus for dealing with this flow. We looked at creating a Command Bus in a previous tutorial, <a href="http://culttt.com/2014/11/10/creating-using-command-bus">Creating and Using a Command Bus</a>.</p>
<p>A Command Bus should never return a value because that would break the separation between the read and write models. A write action should never return a result.</p>
<p>So the answer to the predicament of not being able to redirect on success is usually simpler than you would expect. If you really need that kind of functionality, you probably shouldn’t be using Command Query Responsibility Segregation for that part of your application. In fact, you probably shouldn’t be using CQRS for your entire application anyway.</p>
<h3>Synchronous or Asynchronous</h3>
<p>As I mentioned above, with Command Query Responsibility Segregation you will often see examples of Synchronous or Asynchronous processing.</p>
<p>Synchronous process allows you to return a response immediately to the user. This is important when the user interface demands an instant result.</p>
<p>However, for certain types of applications, a response is not always required immediately.</p>
<p>For example, if the data has to go through a complex or intensive period of processing, Command Query Responsibility Segregation can be the answer to your problems. CQRS allows you to write your data to one source and then have it asynchronously processed and then transferred to the read database.</p>
<p>This process is known as Eventual Consistency. If your application does not require immediate results, than using Eventual Consistency can remove a lot of headaches.</p>
<h3>Domain Events</h3>
<p>And finally, Domain Events are usually very important to Command Query Responsibility Segregation applications. In the example above using Asynchronous processing, it would be Domain Events that initiate that process.</p>
<p>Domain Events listen for certain events during the execution of an application to trigger other actions. This allows you to decouple the consequence of an action with the action itself.</p>
<p>We’ve previously covered Domain Events in the articles, <a href="http://culttt.com/2014/09/22/implementing-domain-events">Implementing Domain Events</a> and <a href="http://culttt.com/2014/11/03/creating-domain-event-dispatcher">Creating your own Domain Event Dispatcher</a>.</p>
<h2>When should you use Command Query Responsibility Segregation?</h2>
<p>So as you can see, Command Query Responsibility Segregation isn’t for the faint of heart. Using CQRS would be widely inappropriate for the majority of all web applications.</p>
<p>Adding unnecessarily complexity to a web application can be the kiss of death. You should always aim to write the simplest solution rather than go nuts for architecture just for the sake of it.</p>
<p>However, for certain types of web applications, I’m sure Command Query Responsibility Segregation would be the answer you are looking for.</p>
<p>Applications that are appropriate for CQRS will typically have many of the same characteristics.</p>
<p>For example, they will require a task-based UI, complex data processing, an imbalance in reads and writes, and eventual consistency would not be a problem.</p>
<p>Unless you face these characteristics, you shouldn’t be using CQRS.</p>
<h2>Conclusion</h2>
<p>Command Query Responsibility Segregation is an important architectural pattern that you should be aware of as a developer. It has many advantages to some of the most difficult problems when building complex and large scale applications.</p>
<p>However, this type of architecture is especially tuned to solve a very specific subset of problems. This add considerable complexity to your application.</p>
<p>As with most patterns in software development, CQRS is only really applicable for certain situations. Adding architectural complexity just for the sake of it would probably be a bad idea.</p>
<p>However, with that being said. It’s always good to know about different approaches and common methods to solve difficult problems. One day you might face a situation where CQRS would be the perfection solution.</p>
                  </div>

                  <div class="about-author">
                    <img alt='' src='http://1.gravatar.com/avatar/780290abdc8ae52adddecac01690747e?s=100&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/780290abdc8ae52adddecac01690747e?s=200&amp;d=mm&amp;r=g 2x' class='avatar avatar-100 photo' height='100' width='100' />                    <p class="name">Philip Brown</p>
                    <p class="bio">Hey, I'm <em>Philip Brown</em>, a designer and developer from Durham, England. I create websites and web based applications from the ground up. In 2011 I founded a company called <a href="http://yflag.com">Yellow Flag</a>. If you want to find out more about me, you can follow me on <a href="http://twitter.com/philipbrown">Twitter</a> or <a href="https://plus.google.com/100062537916148743454/?rel=author">Google Plus</a>.</p>
                  </div>

                  <div class="social-buttons group">
                    <div class="social-button">
                      <a href="https://twitter.com/share" class="twitter-share-button" data-via="culttt" data-lang="en" data-related="philipbrown" data-count="vertical">Tweet</a>
                      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                    </div>
                    <div class="social-button">
                      <div id="fb-root"></div>
                      <script>(function(d, s, id) {
                        var js, fjs = d.getElementsByTagName(s)[0];
                        if (d.getElementById(id)) return;
                        js = d.createElement(s); js.id = id;
                        js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1";
                        fjs.parentNode.insertBefore(js, fjs);
                      }(document, 'script', 'facebook-jssdk'));</script>
                      <div class="fb-like" data-send="false" data-layout="box_count" data-show-faces="false"></div>
                    </div>
                    <div class="social-button">
                      <g:plusone size="tall"></g:plusone>
                      <script type="text/javascript">
                        window.___gcfg = {lang: 'en-GB'};
                        (function() {
                        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                        po.src = 'https://apis.google.com/js/plusone.js';
                        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
                        })();
                      </script>
                    </div>
                    <div class="social-button">
                      <a href="http://bufferapp.com/add" class="buffer-add-button" data-count="vertical" data-via="culttt" >Buffer</a>
                      <script type="text/javascript" src="http://static.bufferapp.com/js/button.js"></script>
                    </div>
                  </div>

                  <div class="comments">
                    
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-5404">
        <div id="dsq-comment-header-5404" class="dsq-comment-header">
            <cite id="dsq-cite-5404">
                <span id="dsq-author-user-5404">Ionut Tanasa</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5404" class="dsq-comment-body">
            <div id="dsq-comment-message-5404" class="dsq-comment-message"><p>Nice explaining, as always. thank you.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-5418">
        <div id="dsq-comment-header-5418" class="dsq-comment-header">
            <cite id="dsq-cite-5418">
                <a id="dsq-author-user-5418" href="http://culttt.com/" target="_blank" rel="nofollow">Philip Brown</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5418" class="dsq-comment-body">
            <div id="dsq-comment-message-5418" class="dsq-comment-message"><p>Thank you :) Glad you found it useful!</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-5422">
        <div id="dsq-comment-header-5422" class="dsq-comment-header">
            <cite id="dsq-cite-5422">
                <span id="dsq-author-user-5422">Daniel Barnhart</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5422" class="dsq-comment-body">
            <div id="dsq-comment-message-5422" class="dsq-comment-message"><p>This may seem like a dunce question, but for instances where you do need an immediate response from the ID, what design patterns would lend themselves better?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-5434">
        <div id="dsq-comment-header-5434" class="dsq-comment-header">
            <cite id="dsq-cite-5434">
                <a id="dsq-author-user-5434" href="http://culttt.com/" target="_blank" rel="nofollow">Philip Brown</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5434" class="dsq-comment-body">
            <div id="dsq-comment-message-5434" class="dsq-comment-message"><p>More than likely just CRUD. CRUD is not always a bad thing and could definitely use CQRS and CRUD in the same application.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-5423">
        <div id="dsq-comment-header-5423" class="dsq-comment-header">
            <cite id="dsq-cite-5423">
                <span id="dsq-author-user-5423">Joe Jollands</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5423" class="dsq-comment-body">
            <div id="dsq-comment-message-5423" class="dsq-comment-message"><p>Excellent description and evaluation there Philip. Really great stuff.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-5435">
        <div id="dsq-comment-header-5435" class="dsq-comment-header">
            <cite id="dsq-cite-5435">
                <a id="dsq-author-user-5435" href="http://culttt.com/" target="_blank" rel="nofollow">Philip Brown</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5435" class="dsq-comment-body">
            <div id="dsq-comment-message-5435" class="dsq-comment-message"><p>Thank you Joe :)</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-5438">
        <div id="dsq-comment-header-5438" class="dsq-comment-header">
            <cite id="dsq-cite-5438">
                <span id="dsq-author-user-5438">Juukie14</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5438" class="dsq-comment-body">
            <div id="dsq-comment-message-5438" class="dsq-comment-message"><p>Nice article, thank you.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-5461">
        <div id="dsq-comment-header-5461" class="dsq-comment-header">
            <cite id="dsq-cite-5461">
                <a id="dsq-author-user-5461" href="http://culttt.com/" target="_blank" rel="nofollow">Philip Brown</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5461" class="dsq-comment-body">
            <div id="dsq-comment-message-5461" class="dsq-comment-message"><p>Thank you :D</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-5502">
        <div id="dsq-comment-header-5502" class="dsq-comment-header">
            <cite id="dsq-cite-5502">
                <a id="dsq-author-user-5502" href="http://julien.tant.me" target="_blank" rel="nofollow">Julien Tant</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5502" class="dsq-comment-body">
            <div id="dsq-comment-message-5502" class="dsq-comment-message"><p>&#8220;Adding unnecessarily complexity to a web application can be the kiss of death. You should always aim to write the simplest solution rather than go nuts for architecture just for the sake of it.&#8221; I wish poeple can remind this :-).</p>
<p>For most web application, backend is all about CRUD. Really. But frontend can be more fun. You can use basic CRUD style code for backend operations and CQRS for frontend. Use what fits to your need, you can mix both in the same application because all needs are not the same</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-5833">
        <div id="dsq-comment-header-5833" class="dsq-comment-header">
            <cite id="dsq-cite-5833">
                <span id="dsq-author-user-5833">Zizaco Zizuini</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5833" class="dsq-comment-body">
            <div id="dsq-comment-message-5833" class="dsq-comment-message"><p>What is wrong with a Command Bus that will actually return the result of the handler? See: <a href="https://github.com/thephpleague/tactician/blob/master/src/HandlerCommandBus.php#L55" onclick="_gaq.push(['_trackEvent', 'outbound-comment', 'https://github.com/thephpleague/tactician/blob/master/src/HandlerCommandBus.php#L55', 'https://github.com/thephpleague/tactician/blob/master/src/HandlerCommandBus.php#L55']);" rel="nofollow">https://github.com/thephpleague/tactician/blob/master/src/HandlerCommandBus.php#L55</a> (Tactician)</p>
<p>If the command bus return the result of the handler, the problem that you described in &#8220;Command Processing&#8221; will be supressed, right?</p>
<p>&#8220;A Command Bus should never return a value because that would break the separation between the read and write models. A write action should never return a result.&#8221;</p>
<p>I&#8217;m not sure about this, but all write operations that I know (DBMS Inserts, ORM save, &#8220;Save Button of any Software&#8221;, etc) returns at least a boolean confirmation to it&#8217;s caller. I really didn&#8217;t get why a Command shouldn&#8217;t have a return. For real.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-5871">
        <div id="dsq-comment-header-5871" class="dsq-comment-header">
            <cite id="dsq-cite-5871">
                <a id="dsq-author-user-5871" href="http://culttt.com/" target="_blank" rel="nofollow">Philip Brown</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5871" class="dsq-comment-body">
            <div id="dsq-comment-message-5871" class="dsq-comment-message"><p>The Command Bus doesn&#8217;t return a value because of the separation between Commands and Queries</p>
<p> In CQRS, calling a Command should never return a value, and calling a Query should never change the result. It is this separation that enables you to have two separate models.</p>
<p>A &#8220;Command Bus&#8221; could return a result, as do the other write operations you mentioned, but that wouldn&#8217;t be two separate models as in CQRS.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-3" id="dsq-comment-7016">
        <div id="dsq-comment-header-7016" class="dsq-comment-header">
            <cite id="dsq-cite-7016">
                <span id="dsq-author-user-7016">Zizaco Zizuini</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7016" class="dsq-comment-body">
            <div id="dsq-comment-message-7016" class="dsq-comment-message"><p><a href="http://www.se-radio.net/2015/05/se-radio-episode-226-eric-evans-on-domain-driven-design-at-10-years/" onclick="_gaq.push(['_trackEvent', 'outbound-comment', 'http://www.se-radio.net/2015/05/se-radio-episode-226-eric-evans-on-domain-driven-design-at-10-years/', 'http://www.se-radio.net/2015/05/se-radio-episode-226-eric-evans-on-domain-driven-design-at-10-years/']);" rel="nofollow">http://www.se-radio.net/2015/05/se-radio-episode-226-eric-evans-on-domain-driven-design-at-10-years/</a> </p>
<p>31:20 Eric Evans suggests to trigger an event with the outcome of a command.<br />
34:00 He suggests to use an Event Sourcing to that is not CQRS xD.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://culttt.com/2015/01/14/command-query-responsibility-segregation-cqrs/';
var disqus_identifier = '5237 http://culttt.com/?p=5237';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'culttt';
var disqus_title = "What is Command Query Responsibility Segregation (CQRS)?";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=5237';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

                  </div>

              
              
            </div>

            <section class="sidebar col-8">
  <h3 class="supported">Supported by</h3>

  <div class="widget ad-packs">
    <script type="text/javascript" src="http://cdn.adpacks.com/adpacks.js?legacyid=1288393&zoneid=1408&key=cff8e425093b59be72c2fd4e27ce192a&serve=C6SIVKV&placement=cultttcom&circle=design" id="_adpacks_js"></script>
  </div>

  <div class="widget become-a-follower">
    <h2>Become a follower</h2>
      <a href="https://twitter.com/culttt"><i class="icon-twitter twitter"></i><span class="action">Follow us on</span> Twitter</a>
      <a href="https://www.facebook.com/culttt"><i class="icon-facebook-squared facebook"></i><span class="action">Like us on</span> Facebook</a>
      <a href="https://plus.google.com/105545788844824874492"><i class="icon-gplus googleplus"></i><span class="action">Circle us on</span> Google Plus</a>
      <a href="http://culttt.com/feed/"><i class="icon-rss rss"></i><span class="action">Subscribe via </span> RSS</a>
  </div>

</section>

          </div><!--/wrapper-small-->

          <section class="advertisements col-5 group">

</section>

        </div><!--/wrapper-big-->

      </div><!--/grid-->
    </div><!--/content-->
    <footer class="footer">
      <p><a href="http://yflag.com">Yellow Flag</a></p>
    </footer>
  </body>
          <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'culttt';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1 && nodes[i].parentNode.tagName == 'A') {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        	<div style="display:none">
	<div class="grofile-hash-map-780290abdc8ae52adddecac01690747e">
	</div>
	</div>
<script type='text/javascript' src='http://culttt.com/wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201643'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2016Octaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://culttt.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.6.1'></script>
<script type='text/javascript' src='http://culttt.com/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript' src='http://stats.wp.com/e-201643.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.3.2',blog:'36596421',post:'5237',tz:'0',srv:'culttt.com'} ]);
	_stq.push([ 'clickTrackerInit', '36596421', '5237' ]);
</script>
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: https://www.w3-edge.com/products/

Page Caching using disk: enhanced

 Served from: culttt.com @ 2016-10-30 18:20:25 by W3 Total Cache -->